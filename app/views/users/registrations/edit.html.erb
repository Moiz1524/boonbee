<div class="container py-4">
    <div class="row">
        <div class="col-md-3">
                <div class="card setting-links">
                <div class="setting-headig py-3 px-2">
                    <h4 class="mb-0">Settings</h4>
                </div>
               
                    <ul class="nav nav-tabs d-block" role="tablist">
                      <a class="text-dark d-block active" href="#profile" role="tab" data-toggle="tab" aria-selected="true">
                        <li class="nav-item">
                          Profile
                        </li>
                      </a>
                      <a class="text-dark d-block" href="#email" role="tab" data-toggle="tab">
                        <li class="nav-item">
                          Email
                        </li>
                      </a>
                       <a class="text-dark d-block" href="#password" role="tab" data-toggle="tab">
                        <li class="nav-item">
                         Password
                        </li>
                      </a>
                </ul>
                </div>
        </div>
        <div class="col-md-9">
            <div class="card">
                 <div class="col-md-8 mx-auto">
                <div class="card-body">
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="profile">
                          <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
                            <%= devise_error_messages! %>
                            <h3 class="text-center">Profile</h3>
                            <div class="profile-change-icon">
                              <label for="file-input">
                                     <img id="blah" src="<%= current_user.profile_pic %>" alt="your image", class="img-fluid setting-profile-image" />
                                      <%= f.file_field :profile_pic,id: "file-input",class: 'imgInp d-none' %>
                                  <span class="middle text-center"><i class="fas fa-camera"></i></span>
                                </label>  
                            </div> 
                             <div class="form-group">
                                <label>Bio</label>
                                <%= f.text_field :bio, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>Username</label>
                                <%= f.text_field :username, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>First Name</label>
                                <%= f.text_field :first_name, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>Last Name</label>
                                <%= f.text_field :last_name, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>Phone Number</label>
                                <%= f.text_field :phone_number, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>Birth Date</label>
                                <%= f.date_field :birth_date, autofocus: true, required: true %>
                                <!--<input type="date" class="form-control">-->
                            </div>
                            <div class="form-group">
                                <label>Location</label>
                                <%= f.text_field :location, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>Twitter</label>
                                <%= f.text_field :twitter_link, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>Facebook</label>
                                <%= f.text_field :facebook_link, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                            <div class="form-group">
                                <label>Instagram</label>
                                <%= f.text_field :instagram_link, autofocus: true, autocomplete: "name", class: 'form-control', required: true %>
                            </div>
                              <div class="actions">
                                <%= f.submit "Update", class: 'btn btn-primary btn-block mb-1' %>
                              </div>
                            <% end %>
                              <!--<center><a href="#" class="btn btn-primary mt-2">Save Setting</a></center>-->
                          </div>
                        <div role="tabpanel" class="tab-pane fade" id="email">
                          <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
                            <%= devise_error_messages! %>
                            <h3 class="text-center">Email</h3>
                            <div class="form-group">
                                <label>Email</label>
                                <%= f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control', required: true %>
                            </div>  
                              <div class="actions">
                                <%= f.submit "Update", class: 'btn btn-primary btn-block mb-1' %>
                              </div>
                            <% end %>
                        </div>
                        <div role="tabpanel" class="tab-pane fade" id="password">
                          <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
                            <%= devise_error_messages! %>
                              <h3 class="text-center">Password</h3>
                              <div class="form-group">
                                  <label>New Passwword</label>
                                  <%= f.password_field :password, autocomplete: "off", class: 'form-control', minlength: 6, required: true %>
                              </div> 
                               <div class="form-group">
                                  <label>New Passwword Confirmation</label>
                                  <%= f.password_field :password_confirmation, autocomplete: "off", class: 'form-control', minlength: 6, required: true %>
                              </div> 
                               <div class="form-group">
                                  <label>Old Passwword</label>
                                  <%= f.password_field :current_password, autocomplete: "off", class: 'form-control', minlength: 6, required: true %>
                              </div> 
                              <div class="actions">
                                <%= f.submit "Update", class: 'btn btn-primary btn-block mb-1' %>
                              </div>
                            <% end %>
                          </div>
                    </div>
                </div>
            </div>
            </div>
        </div>

    </div>
</div>

<script>
    function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#blah').attr('src', e.target.result);
        }

        reader.readAsDataURL(input.files[0]);
    }
}

$(".imgInp").change(function(){
    readURL(this);
});

$(".middle").hover(function() {
$("#blah").css("opacity","0.1");
});

// hover
$("#blah").hover(function() {
$(".middle").css("cursor","pointer");
});


</script>